{
  "name": "PA Bad Request (400)",
  "priority": 1,
  "request": {
    "method": "POST",
    "urlPattern": "/api/x12/278.*",
    "bodyPatterns": [
      { "contains": "BADREQUEST-TEST" }
    ]
  },
  "response": {
    "status": 400,
    "headers": {
      "Content-Type": "application/json",
      "X-Correlation-Id": "{{request.headers.X-Correlation-Id}}"
    },
    "jsonBody": {
      "error": "BAD_REQUEST",
      "errorCode": "E400",
      "message": "The request contains invalid or missing data",
      "validationErrors": [
        {
          "field": "subscriberId",
          "code": "REQUIRED",
          "message": "Subscriber ID is required"
        },
        {
          "field": "serviceDate",
          "code": "INVALID_FORMAT",
          "message": "Service date must be in YYYY-MM-DD format"
        },
        {
          "field": "providerNpi",
          "code": "INVALID_LENGTH",
          "message": "Provider NPI must be exactly 10 digits"
        }
      ],
      "timestamp": "{{now}}"
    },
    "transformers": ["response-template"]
  }
}
