################################
provider registration:
################################
curl --location --request POST 'https://perf.totalview.healthos.carelon.com/client.oauth2/unregistered/api/v1/token' \
--header 'referer: https://perf.totalview.healthos.carelon.com/fhirtest/pen' \
--header 'Authorization: Basic YWIwNDcwZTYtNTNmMC00NDBmLTk2OTYtMDI5M2I2MWJmMzNkOmV5SmhiR2NpT2lKSVV6STFOaUo5LmV5SmxiblJwZEhsZmJtRnRaU0k2SWxCbGNtWWdVR0Y1WlhJZ1RtOXVJRTFsYldKbGNpSjkuYk9mVmtYVWVLYlhwTGpWV3VaZDRRZzJRZXloZ25XODRFU0FJMlcyZUQ4OA==' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'grant_type=client_credentials'



################################
Token Introspection:
################################
Use the following cURL command to get Introspection Token Details:

curl --location --request POST 'https://dev.totalview.healthos.carelon.com/introspection/api/v1/token/details' \
--header 'Authorization: Bearer eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL3BlcmYudG90YWx2aWV3LmhlYWx0aG9zLmNhcmVsb24uY29tIiwic3ViIjoiSGVhbHRoT1MiLCJhdWQiOiI3YjE5MmE5NS0xNTEyLTQ3MDUtODU5YS1hMGRmMDkwOTQ5YmYiLCJyb2xlIjoic3VwZXJhZG1pbiIsInVzZXIiOiJBTDU2NjgyIiwianRpIjoiYWU1MDc5OTktNGUyNS00NjI2LWEzYTQtOGJjNjBhNzIxODEwIiwiZXhwIjoxNzY4MzgyMDM5LCJpYXQiOjE3NjA2MDYwMzl9.YZR3VNNRkz4VULzHDCDm6FvOepksjd4Owr3LHE9BMNxTL20GyYoFLqCfJ-H8ORHx7hcpvcdSD2n6_3xgnxrhJs71N7Q7hgIvzL-HUQzISzJPmwRM_EwODvn60KEEbP0TjbG24bnHcg6WiKqbmlMQoseqtlvqTqcisEQ_WbA_erw4x1JjgQCJ8bhKGd2KHgg-4K9x0R8EZ-KFDukp4J8btzbk000sTVW8Etw16g5ttMLSLA99g1gZThO_kjMs6Cr5btJTtajImNvw_40HGoJnYeM_KefkJh1-C1aFgw98HbNpDoEwRk4sw0BVHkT2eSR3_wnPC22TsOi3_qTmmZCxIQ' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'accessToken=eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL2Rldi50b3RhbHZpZXcuaGVhbHRob3MuY2FyZWxvbi5jb20iLCJzdWIiOiJUT1RBTFZJRVdNSURETEVXQVJFL0hFQUxUSE9TIiwiYXVkIjoiYmRkYTNlZTUtZGY4Zi00Yzg2LThkODktNGExNjBlOTA3NjRkIiwiY29kZSI6Ik9UaG1aVEZsTURBdE5qRmhNUzAwTkdabUxUZ3hOell0T1RnMk56UmxaV05sWkdRMUxXTnZiVzFsY21samFXRnMiLCJlbnRpdHlfbmFtZSI6ImIyYl90ZXN0IiwiZW50aXR5VHlwZSI6IkIyQiIsInNjb3BlIjoicGF0aWVudC8qLnJlYWQgb3BlbmlkIHByb2ZpbGUgb3BlbmlkIGZoaXJVc2VyIG9mZmxpbmVfYWNjZXNzIGxhdW5jaC9wYXRpZW50IiwidGtuX2lkIjoiZkNCQzZLNjFtc053SkVCNXVSWCtKcm5veEVuMDY5RkdScm1xdWxMRGRKL09zM0x5aGxNdlB4M1NXOUVZU2hzZyIsImV4cCI6MTc2MzM4MTI2MSwiaWF0IjoxNzYzMzc3NjYxfQ.aQc1mLsUS94GUF2mN0yUXSvtbwMgsstumM560nFXK5IzayeYL5bazPX6Xrt15ssVQxsDEmzwOTJkvmonJ59diJ9mI4hoPjji5KQcgxSNad-tLUPRPp_3iCq1_KRWH9bNbGOHzV2ZP-wAJsNxEBz4l5hd15SPXsQBTALOFSM_MpvxiDkHPHQD17XTPJFtfwrVmoq6gVd-S38ZC9Tj4lbE_DOhag_vBdcdwopbcgZThsrOu4fe7Q5j0lZZwQ-dxs-myzrqyXAB-_ADBNtLYF4C6uYAsGRRFk42XkLiV0hw-NE25peVLvBeShbSI0rAFmsOkVEbyAsYAetuYSzsV7p1qg'

For Active Token: -

Token Introspection request

POST /introspect HTTP/1.1
 Host: server.example.com
 Accept: application/json
 Content-Type: application/x-www-form-urlencoded
 Authorization: Bearer 23410913-abewfq.123483
 token=2YotnFZFEjr1zCsicMWpAA

Token Introspection response
{
  "expires_in": 176381261,
  "issued_at": 1763377661,
  "id_token": "fCBC6k1m5NJBE5uRX+JxnozEn069FGRzmqulLddJ/Os3LyhMvPxSWSYEYShsg",
  "scope": "profile thirdUser openid",
  "clientId": "bdda3ee5-df8f-4c86-8d89-4a160e90764d",
  "iss": "https://dev.totalview.healthos.carelon.com",
  "sub": "TOTALVIEWMIDDLEWARE/HEALTHOS",
  "active": true,
  "patient": [
    "3eaea72bcd7f9fd4f33366571f9ce758",
    "d93eb14ace072a5eb7c431320b0abd4",
    "4ad63761bbd1412bbc702dd07a0e38c"
  ]
}


For Expired Token: -

Token Introspection request

POST /introspect HTTP/1.1
 Host: server.example.com
 Accept: application/json
 Content-Type: application/x-www-form-urlencoded
 Authorization: Bearer 23410913-abewfq.123483
 token=2YotnFZFEjr1zCsicMWpAA

Token Introspection response
{
  "expires_in": 1762933374,
  "issued_at": 1762929774,
  "active": false
}


For Invalid Token: -

Token Introspection request

POST /introspect HTTP/1.1
 Host: server.example.com
 Accept: application/json
 Content-Type: application/x-www-form-urlencoded
 Authorization: Bearer 23410913-abewfq.123483
 token=2YotnFZFEjr1zCsicMWpAA

Token Introspection response
{
  "status_code": 404,
  "status": "failed",
  "error": "invalid_token",
  "error_description": "access token is invalid or has expired."
}
